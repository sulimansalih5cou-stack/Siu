<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>كشف الحساب - Smart Dorm</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">

    <style>
        * {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #f3f4f6; /* لون خلفية أهدأ قليلاً */
            min-height: 100vh;
            padding-top: 60px;
            padding-bottom: 20px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* شريط التنقل العلوي */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 900;
            background: #b91c1c;
            height: 60px;
            box-shadow: 0 4px 15px rgba(185, 28, 28, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        .navbar-title {
            color: white;
            font-size: 20px;
            font-weight: 800;
            text-align: center;
            flex: 1;
        }

        .nav-icon {
            color: white;
            font-size: 22px;
            background: none;
            border: none;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .nav-icon:hover {
            background: rgba(255,255,255,0.1);
        }

        /* حاوية المعاملات */
        .transactions-container {
            padding: 24px;
            max-width: 800px; /* تحديد عرض أقصى لترتيب البطاقات */
            margin: 0 auto;
        }

        /* --- بداية تصميم البطاقة الجديد --- */
        .transaction-card {
            background: white;
            border-radius: 24px; /* زوايا أكثر استدارة */
            margin-bottom: 20px;
            padding: 24px;
            /* ظل ناعم جداً واحترافي */
            box-shadow: 0 10px 40px -10px rgba(0,0,0,0.08); 
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.02);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        /* تأثير عند تحويم الماوس */
        .transaction-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px -5px rgba(0,0,0,0.12);
        }

        /* المؤشر الجانبي الملون (شريط صغير وأنيق) */
        .transaction-card::before {
            content: '';
            position: absolute;
            top: 20px;
            right: 0;
            width: 4px;
            height: calc(100% - 40px);
            border-radius: 4px 0 0 4px;
        }

        .transaction-card.expense::before {
            background: #ef4444;
            box-shadow: -2px 0 8px rgba(239, 68, 68, 0.4);
        }

        .transaction-card.income::before {
            background: #10b981;
            box-shadow: -2px 0 8px rgba(16, 185, 129, 0.4);
        }

        /* رأس البطاقة */
        .transaction-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .transaction-title {
            font-size: 19px;
            font-weight: 800;
            color: #111827;
            margin-bottom: 6px;
            letter-spacing: -0.5px;
        }

        .transaction-subtitle {
            font-size: 13.5px;
            color: #6b7280;
            line-height: 1.6;
            font-weight: 500;
        }

        /* تصميم المبلغ (Badge Style) */
        .transaction-amount {
            font-size: 18px;
            font-weight: 900;
            direction: ltr;
            text-align: left;
            padding: 8px 14px;
            border-radius: 14px;
            white-space: nowrap;
            margin-right: 10px;
            display: flex;
            align-items: center;
        }

        .amount-expense {
            color: #b91c1c;
            background: #fef2f2; /* خلفية حمراء فاتحة جداً */
            border: 1px solid #fee2e2;
        }

        .amount-income {
            color: #047857;
            background: #ecfdf5; /* خلفية خضراء فاتحة جداً */
            border: 1px solid #d1fae5;
        }

        /* تذييل البطاقة */
        .transaction-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            margin-top: 16px;
            border-top: 1px dashed #e5e7eb; /* خط متقطع بدلاً من متصل */
        }

        .transaction-time {
            color: #9ca3af;
            font-size: 13px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            background: #f9fafb;
            padding: 6px 12px;
            border-radius: 20px;
        }

        .time-icon {
            color: #ef4444; /* توحيد لون الأيقونة */
            font-size: 11px;
        }
        /* --- نهاية تصميم البطاقة الجديد --- */


        /* حالة فارغة */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #9ca3af;
        }

        .empty-state i {
            font-size: 60px;
            margin-bottom: 20px;
            color: #d1d5db;
        }

        .empty-state h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #6b7280;
        }

        /* القائمة الجانبية */
        .sidebar {
            position: fixed;
            top: 0;
            right: -280px;
            height: 100%;
            width: 280px;
            background: white;
            z-index: 1001;
            box-shadow: -5px 0 30px rgba(0,0,0,0.15);
            transition: right 0.3s ease;
            padding-top: 20px;
        }

        .sidebar.open {
            right: 0;
        }

        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(2px);
            z-index: 1000;
        }

        .sidebar-overlay.open {
            display: block;
        }

        .sidebar-header {
            padding: 25px;
            border-bottom: 1px solid #f3f4f6;
            margin-bottom: 10px;
        }

        .sidebar-user-name {
            font-size: 20px;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 5px;
        }

        .sidebar-user-email {
            color: #6b7280;
            font-size: 14px;
        }

        .sidebar-menu {
            padding: 10px 15px;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: #4b5563;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            border-radius: 12px;
            margin-bottom: 5px;
        }

        .sidebar-item:hover {
            background: #f9fafb;
            transform: translateX(-5px);
        }

        .sidebar-item.active {
            background: #fef2f2;
            color: #b91c1c;
        }

        .sidebar-icon {
            margin-left: 15px;
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        /* مودال الإشعارات */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1002;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(3px);
        }

        .modal.open {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 24px;
            width: 100%;
            max-width: 400px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
        }

        .modal-header {
            background: #b91c1c;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 800;
        }

        .modal-body {
            padding: 20px;
            max-height: 60vh;
            overflow-y: auto;
        }

        /* تحميل */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #b91c1c;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <button class="nav-icon" id="menuButton">
            <i class="fas fa-bars"></i>
        </button>
        <div class="navbar-title">كشف الحساب</div>
        <button class="nav-icon" id="notificationButton">
            <i class="fas fa-bell"></i>
        </button>
    </nav>

    <div class="transactions-container" id="transactionsContainer">
        <div class="transaction-card expense">
            <div class="transaction-header">
                <div>
                    <div class="transaction-title">ركشة</div>
                    <div class="transaction-subtitle">مشاركة في مصروف: سوار الذهب<br>حملت المطلوبة</div>
                </div>
                <div class="transaction-amount amount-expense">2,500.0</div>
            </div>
            <div class="transaction-footer">
                <div class="transaction-time">
                    <i class="fas fa-clock time-icon"></i>
                    <span>AM 10:35 - Nov-2025-29</span>
                </div>
            </div>
        </div>

        <div class="transaction-card expense">
            <div class="transaction-header">
                <div>
                    <div class="transaction-title">بلح شام</div>
                    <div class="transaction-subtitle">مشاركة في مصروف: سوار الذهب<br>حملت المطلوبة</div>
                </div>
                <div class="transaction-amount amount-expense">1,666.67</div>
            </div>
            <div class="transaction-footer">
                <div class="transaction-time">
                    <i class="fas fa-clock time-icon"></i>
                    <span>AM 10:35 - Nov-2025-29</span>
                </div>
            </div>
        </div>

        <div class="transaction-card income">
            <div class="transaction-header">
                <div>
                    <div class="transaction-title">شاي</div>
                    <div class="transaction-subtitle">استرداد من 2 مشارك<br>HDG 1,666.7</div>
                </div>
                <div class="transaction-amount amount-income">+ 3,333.33</div>
            </div>
            <div class="transaction-footer">
                <div class="transaction-time">
                    <i class="fas fa-clock time-icon"></i>
                    <span>AM 10:35 - Nov-2025-29</span>
                </div>
            </div>
        </div>

        <div class="transaction-card expense">
            <div class="transaction-header">
                <div>
                    <div class="transaction-title">الفطور</div>
                    <div class="transaction-subtitle">مشاركة في مصروف: سوار الذهب<br>حملت المطلوبة</div>
                </div>
                <div class="transaction-amount amount-expense">3,333.33</div>
            </div>
            <div class="transaction-footer">
                <div class="transaction-time">
                    <i class="fas fa-clock time-icon"></i>
                    <span>AM 10:30 - Nov-2025-26</span>
                </div>
            </div>
        </div>

        <div class="transaction-card income">
            <div class="transaction-header">
                <div>
                    <div class="transaction-title">الفطور</div>
                    <div class="transaction-subtitle">استرداد من 2 مشارك<br>HDG 6,666.67</div>
                </div>
                <div class="transaction-amount amount-income">+ 6,666.67</div>
            </div>
            <div class="transaction-footer">
                <div class="transaction-time">
                    <i class="fas fa-clock time-icon"></i>
                    <span>AM 11:25 - Nov-2025-26</span>
                </div>
            </div>
        </div>
    </div>

    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-user-name">عمر أحمد</div>
            <div class="sidebar-user-email">omar@example.com</div>
        </div>
        <div class="sidebar-menu">
            <a href="index.html" class="sidebar-item">
                <i class="fas fa-plus-circle sidebar-icon"></i>
                <span>إضافة مصروف</span>
            </a>
            <a href="my_expenses.html" class="sidebar-item">
                <i class="fas fa-receipt sidebar-icon"></i>
                <span>مصروفاتي</span>
            </a>
            <a href="history.html" class="sidebar-item active">
                <i class="fas fa-history sidebar-icon"></i>
                <span>السجل</span>
            </a>
            <a href="summary.html" class="sidebar-item">
                <i class="fas fa-calculator sidebar-icon"></i>
                <span>تسوية الأرصدة</span>
            </a>
            <a href="auth.html" class="sidebar-item" style="color: #ef4444; margin-top: 20px;">
                <i class="fas fa-sign-out-alt sidebar-icon"></i>
                <span>خروج</span>
            </a>
        </div>
    </div>

    <div class="modal" id="notificationModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">الإشعارات</div>
                <button class="nav-icon" style="background: transparent;" id="closeModalButton">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div style="text-align: center; padding: 40px 20px; color: #6b7280;">
                    <i class="fas fa-bell-slash" style="font-size: 50px; margin-bottom: 20px; color: #d1d5db;"></i>
                    <div style="font-weight: 700; margin-bottom: 10px;">لا توجد إشعارات</div>
                    <div style="font-size: 14px;">لا توجد إشعارات جديدة حالياً</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // البيانات من الصورة
        const transactionsData = [
            {
                title: "ركشة",
                subtitle: "مشاركة في مصروف: سوار الذهب<br>حملت المطلوبة",
                amount: "2,500.0",
                time: "AM 10:35 - Nov-2025-29",
                type: "expense"
            },
            {
                title: "بلح شام",
                subtitle: "مشاركة في مصروف: سوار الذهب<br>حملت المطلوبة",
                amount: "1,666.67",
                time: "AM 10:35 - Nov-2025-29",
                type: "expense"
            },
            {
                title: "شاي",
                subtitle: "استرداد من 2 مشارك<br>HDG 1,666.7",
                amount: "+ 3,333.33",
                time: "AM 10:35 - Nov-2025-29",
                type: "income"
            },
            {
                title: "الفطور",
                subtitle: "مشاركة في مصروف: سوار الذهب<br>حملت المطلوبة",
                amount: "3,333.33",
                time: "AM 10:30 - Nov-2025-26",
                type: "expense"
            },
            {
                title: "الفطور",
                subtitle: "استرداد من 2 مشارك<br>HDG 6,666.67",
                amount: "+ 6,666.67",
                time: "AM 11:25 - Nov-2025-26",
                type: "income"
            }
        ];

        // تهيئة المتغيرات
        const menuButton = document.getElementById('menuButton');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const notificationButton = document.getElementById('notificationButton');
        const notificationModal = document.getElementById('notificationModal');
        const closeModalButton = document.getElementById('closeModalButton');
        const transactionsContainer = document.getElementById('transactionsContainer');

        // فتح/إغلاق القائمة الجانبية
        menuButton.addEventListener('click', () => {
            sidebar.classList.add('open');
            sidebarOverlay.classList.add('open');
        });

        sidebarOverlay.addEventListener('click', () => {
            sidebar.classList.remove('open');
            sidebarOverlay.classList.remove('open');
        });

        // فتح/إغلاق مودال الإشعارات
        notificationButton.addEventListener('click', () => {
            notificationModal.classList.add('open');
        });

        closeModalButton.addEventListener('click', () => {
            notificationModal.classList.remove('open');
        });

        notificationModal.addEventListener('click', (e) => {
            if (e.target === notificationModal) {
                notificationModal.classList.remove('open');
            }
        });

        // إنشاء بطاقات المعاملات ديناميكياً
        function renderTransactions() {
            transactionsContainer.innerHTML = '';

            transactionsData.forEach(transaction => {
                const transactionCard = document.createElement('div');
                transactionCard.className = `transaction-card ${transaction.type}`;

                const amountClass = transaction.type === 'income' ? 'amount-income' : 'amount-expense';
                const amountDisplay = transaction.type === 'income' ? transaction.amount : transaction.amount;

                transactionCard.innerHTML = `
                    <div class="transaction-header">
                        <div>
                            <div class="transaction-title">${transaction.title}</div>
                            <div class="transaction-subtitle">${transaction.subtitle}</div>
                        </div>
                        <div class="transaction-amount ${amountClass}">${amountDisplay}</div>
                    </div>
                    <div class="transaction-footer">
                        <div class="transaction-time">
                            <i class="fas fa-clock time-icon"></i>
                            <span>${transaction.time}</span>
                        </div>
                    </div>
                `;

                transactionsContainer.appendChild(transactionCard);
            });
        }

        // تهيئة الصفحة عند التحميل
        document.addEventListener('DOMContentLoaded', () => {
            renderTransactions();

            // تعطيل النسخ واللصق
            document.addEventListener('contextmenu', e => e.preventDefault());
            document.addEventListener('keydown', function(e) {
                if ((e.key === 'c' || e.key === 'C') && (e.ctrlKey || e.metaKey)) {
                    e.preventDefault();
                }
                if ((e.key === 'v' || e.key === 'V') && (e.ctrlKey || e.metaKey)) {
                    e.preventDefault();
                }
            });
        });
    </script>
</body>
</html>
